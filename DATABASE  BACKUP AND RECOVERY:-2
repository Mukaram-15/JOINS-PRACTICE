#!/bin/bash

# Set backup directory and filename
BACKUP_DIR="/path/to/backup/directory"
DATE=$(date +'%Y-%m-%d_%H-%M-%S')
BACKUP_FILE="db_backup_$DATE.sql"

# Database credentials
DB_USER="your_db_username"
DB_PASSWORD="your_db_password"
DB_NAME="your_database_name"

# Perform the backup using mysqldump
mysqldump -u$DB_USER -p$DB_PASSWORD $DB_NAME > $BACKUP_DIR/$BACKUP_FILE

# Optional: compress the backup file
gzip $BACKUP_DIR/$BACKUP_FILE

# Log the backup status
echo "Backup completed at $DATE" >> /path/to/backup/log.txt
#!/bin/bash

# Set backup directory and recovery file
BACKUP_DIR="/path/to/backup/directory"
BACKUP_FILE="db_backup_to_restore.sql.gz"  # Backup file to restore

# Database credentials
DB_USER="your_db_username"
DB_PASSWORD="your_db_password"
DB_NAME="your_database_name"

# Decompress the backup file (if compressed)
gzip -d $BACKUP_DIR/$BACKUP_FILE

# Restore the backup
mysql -u$DB_USER -p$DB_PASSWORD $DB_NAME < $BACKUP_DIR/db_backup_to_restore.sql

# Log the recovery status
echo "Recovery completed for $DB_NAME at $(date)" >> /path/to/backup/log.txt
crontab -e
0 2 * * * /path/to/backup/script.sh

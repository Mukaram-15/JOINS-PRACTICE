-- 1. Create the database
CREATE DATABASE IF NOT EXISTS test_db;

-- 2. Select the database to use
USE test_db;

-- 3. Create the customers table
CREATE TABLE IF NOT EXISTS customers (
    customer_id INT PRIMARY KEY,
    customer_name VARCHAR(100)
);

-- 4. Create the orders table
CREATE TABLE IF NOT EXISTS orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    order_amount DECIMAL(10, 2),
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);

-- 5. Insert data into the customers table
INSERT INTO customers (customer_id, customer_name) VALUES
(1, 'Alice'),
(2, 'Bob'),
(3, 'Charlie'),
(4, 'David'),
(5, 'Eve');  -- Added customer with customer_id = 5 to resolve the foreign key issue

-- 6. Insert data into the orders table
INSERT INTO orders (order_id, customer_id, order_amount) VALUES
(101, 1, 150.00),
(102, 2, 200.00),
(103, 3, 50.00),
(104, 5, 300.00);  -- Now the insert will work because customer_id 5 exists

-- 7. Example INNER JOIN query
SELECT 
    customers.customer_id, 
    customers.customer_name, 
    orders.order_id, 
    orders.order_amount
FROM 
    customers
INNER JOIN 
    orders 
ON 
    customers.customer_id = orders.customer_id;

-- 8. Example LEFT JOIN query
SELECT 
    customers.customer_id, 
    customers.customer_name, 
    orders.order_id, 
    orders.order_amount
FROM 
    customers
LEFT JOIN 
    orders 
ON 
    customers.customer_id = orders.customer_id;

-- 9. Example RIGHT JOIN query
SELECT 
    customers.customer_id, 
    customers.customer_name, 
    orders.order_id, 
    orders.order_amount
FROM 
    customers
RIGHT JOIN 
    orders 
ON 
    customers.customer_id = orders.customer_id;

-- 10. Example FULL OUTER JOIN query (using UNION)
SELECT 
    customers.customer_id, 
    customers.customer_name, 
    orders.order_id, 
    orders.order_amount
FROM 
    customers
LEFT JOIN 
    orders 
ON 
    customers.customer_id = orders.customer_id

UNION

SELECT 
    customers.customer_id, 
    customers.customer_name, 
    orders.order_id, 
    orders.order_amount
FROM 
    customers
RIGHT JOIN 
    orders 
ON 
    customers.customer_id = orders.customer_id;
